"use strict";(self.webpackChunkfeedback_loop_client=self.webpackChunkfeedback_loop_client||[]).push([[971],{8423:(A,m,o)=>{o.r(m),o.d(m,{AuthModule:()=>C});var v=o(9808),l=o(2626),f=o(5861),s=o(2340),n=o(5e3),d=o(622),g=o(9352);let r=(()=>{class t{constructor(e,u,p){this.activatedRoute=e,this.authService=u,this.router=p,this.activatedRoute.queryParams.subscribe(y=>{this.getJWT(y),y.access_token?this.getJWT(y):y.login&&this.googleLoginCall()})}ngOnInit(){}googleLoginCall(){window.location.href=`${s.N.strapi_server}/api/connect/${s.N.strapi_auth_provider}`}getJWT(e){var u=this;return(0,f.Z)(function*(){yield u.authService.get(e.access_token).subscribe(p=>{u.authService.add(p),u.router.navigate(["/"])})})()}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(l.gz),n.Y36(d.e),n.Y36(l.F0))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-login"]],decls:3,vars:0,consts:[[1,"login-page-container"],["Button","",1,"login-button",3,"click"]],template:function(e,u){1&e&&(n.TgZ(0,"div",0)(1,"div",1),n.NdJ("click",function(){return u.googleLoginCall()}),n._uU(2,"Login with Google"),n.qZA()())},directives:[g.r0],styles:[".login-page-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:var(--dim-bg-color)}.login-button[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;padding:0 6px;margin:auto}"]}),t})();const c=[{path:"",component:r},{path:"callback",component:r}];let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[l.Bz.forChild(c)],l.Bz]}),t})();var i=o(3926);let C=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[v.ez,a,i.m]]}),t})()},5861:(A,m,o)=>{function v(f,s,n,d,g,r,c){try{var a=f[r](c),i=a.value}catch(C){return void n(C)}a.done?s(i):Promise.resolve(i).then(d,g)}function l(f){return function(){var s=this,n=arguments;return new Promise(function(d,g){var r=f.apply(s,n);function c(i){v(r,d,g,c,a,"next",i)}function a(i){v(r,d,g,c,a,"throw",i)}c(void 0)})}}o.d(m,{Z:()=>l})}}]);