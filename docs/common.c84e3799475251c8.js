"use strict";(self.webpackChunkfeedback_loop_client=self.webpackChunkfeedback_loop_client||[]).push([[592],{53:(k,g,l)=>{l.d(g,{W:()=>d});var e=l(5e3),t=l(2626),f=l(6832),h=l(4419),y=l(3455),v=l(6335),C=l(6101),M=l(9033),u=l(9352),m=l(9808),P=l(5405),O=l(6762),A=l(5499);function a(o,_){if(1&o&&e._UZ(0,"app-req-list-item",18),2&o){const i=e.oxw().$implicit,r=e.oxw();e.Q6J("req",r.getRequestList(i))}}function c(o,_){if(1&o&&e._UZ(0,"app-task-list-item",19),2&o){const i=e.oxw().$implicit,r=e.oxw();e.Q6J("flTask",r.getTaskList(i))}}function n(o,_){if(1&o&&e._UZ(0,"app-milestone-card",20),2&o){const i=e.oxw().$implicit,r=e.oxw();e.Q6J("flMilestone",r.getMilestoneList(i))}}function s(o,_){if(1&o){const i=e.EpF();e.TgZ(0,"div")(1,"div",11)(2,"div",12)(3,"input",13),e.NdJ("click",function(p){const T=e.CHM(i).$implicit;return e.oxw().selecting(T.id,p)}),e.qZA()(),e.TgZ(4,"div",14),e.YNc(5,a,1,1,"app-req-list-item",15),e.YNc(6,c,1,1,"app-task-list-item",16),e.YNc(7,n,1,1,"app-milestone-card",17),e.qZA()()()}if(2&o){const i=_.$implicit,r=e.oxw();e.xp6(3),e.Q6J("checked",r.selected.includes(i.id?i.id:-1)),e.xp6(2),e.Q6J("ngIf","request"==r.type),e.xp6(1),e.Q6J("ngIf","task"==r.type),e.xp6(1),e.Q6J("ngIf","milestone"==r.type)}}let d=(()=>{class o{constructor(i,r,p,x,T,E,w){this.route=i,this.requestQuery=r,this.taskQuery=p,this.milestoneQuery=x,this.requestService=T,this.taskService=E,this.milestoneService=w,this.selected=[],this.closed=new e.vpe,this.selectedList=new e.vpe}ngOnInit(){}ngAfterContentInit(){"request"===this.type?(this.requestService.getall(),this.list=this.requestQuery.$requests):"task"===this.type?(this.taskService.getall(),this.list=this.taskQuery.$tasks):"milestone"===this.type&&(this.milestoneService.getall(),this.list=this.milestoneQuery.$milestones),this.preSelected&&(this.selected=this.preSelected)}selecting(i,r){if(i)if(r.target.checked)this.multiSelect?this.selected.push(i):this.selected=[i];else{let p=this.selected.indexOf(i);this.selected.splice(p,1)}}pickSelectedRequest(){if(this.selected.length>0)this.selectedList.emit(this.multiSelect?this.selected:this.selected[0]);else{let i;this.multiSelect&&(i=this.selected),this.selectedList.emit(i)}this.close()}close(){this.closed.emit(!1)}getRequestList(i){return i}getTaskList(i){return i}getMilestoneList(i){return i}creatingNew(){this.sourceId&&this.route.navigate([`/${this.type}/new`],{queryParams:{id:this.sourceId}})}}return o.\u0275fac=function(i){return new(i||o)(e.Y36(t.F0),e.Y36(f.Z),e.Y36(h.R),e.Y36(y.l),e.Y36(v.P),e.Y36(C.Y),e.Y36(M.l))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-associate"]],inputs:{preSelected:["preselect","preSelected"],multiSelect:"multiSelect",sourceId:"sourceId",type:"type"},outputs:{closed:"closed",selectedList:"selectedList"},decls:18,vars:9,consts:[[1,"body"],[1,"header"],[1,"search-container"],[1,"icon-div",3,"click"],[1,"material-symbols-rounded"],[1,"am-demo-bd"],[2,"border-bottom","1px solid #ddd"],[3,"placeholder","maxLength"],["Button","",1,"button",3,"type","size","inline","click"],[1,"main"],[4,"ngFor","ngForOf"],[1,"option-card"],[1,"checkbox-container"],["type","checkbox",3,"checked","click"],[1,"element-container"],[3,"req",4,"ngIf"],[3,"flTask",4,"ngIf"],[3,"flMilestone",4,"ngIf"],[3,"req"],[3,"flTask"],[3,"flMilestone"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.NdJ("click",function(){return r.close()}),e.TgZ(4,"span",4),e._uU(5," close "),e.qZA()(),e.TgZ(6,"div",5)(7,"div",6),e._UZ(8,"SearchBar",7),e.qZA()(),e.TgZ(9,"div",3),e.NdJ("click",function(){return r.pickSelectedRequest()}),e.TgZ(10,"span",4),e._uU(11," done "),e.qZA()()(),e.TgZ(12,"div",8),e.NdJ("click",function(){return r.creatingNew()}),e._uU(13),e.qZA()(),e.TgZ(14,"div",9)(15,"List"),e.YNc(16,s,8,4,"div",10),e.ALo(17,"async"),e.qZA()()()),2&i&&(e.xp6(8),e.Q6J("placeholder","Search")("maxLength",20),e.xp6(4),e.Q6J("type","primary")("size","small")("inline",!0),e.xp6(1),e.hij("new ",r.type,""),e.xp6(3),e.Q6J("ngForOf",e.lcZ(17,7,r.list)))},directives:[u.NB,u.r0,u.ns,m.sg,m.O5,P.U,O.T,A.T],pipes:[m.Ov],styles:[".body[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto 1fr;grid-template-columns:1fr;height:100%;position:relative}.search-container[_ngcontent-%COMP%]{height:50px;width:100%;display:grid;grid-template-columns:50px auto 50px;align-items:center;background-color:#fff}.header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}.main[_ngcontent-%COMP%]{overflow-y:auto;height:100%}.icon-div[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.option-card[_ngcontent-%COMP%]{display:flex;text-align:start;padding:0 10px}.checkbox-container[_ngcontent-%COMP%]{padding:13px 12px 0 5px}.checkbox-container[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:20px;height:20px}.element-container[_ngcontent-%COMP%]{flex:1}.button[_ngcontent-%COMP%]{margin-left:17px;cursor:pointer}"]}),o})()},4465:(k,g,l)=>{l.d(g,{e:()=>A});var e=l(9808),t=l(5e3),f=l(7465),h=l(2626);let y=(()=>{class a{constructor(){this.entities=["Request","Task","Milestone"],this.categories=["Issue","Feature","Feedback"],this.severities=["ShowStopper","Critical","Major","Minor"],this.modules=["Grid","Canvas","Explorer","Data Panel","IDE Client","IDE Server","Style Panel","Route","Offline"],this.taskPriorites=["Urgent","High","Medium","Low"],this.taskStatus=["Yet To Start","In Discussion","In Progress","Completed","Testing","Released"],this.milestoneStatus=["Yet To Start","In Discussion","In Progress","Completed","Testing","Released"]}}return a.\u0275fac=function(n){return new(n||a)},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var v=l(6335),C=l(4817),M=l(7797),u=l(6718),m=l(2382);let P=(()=>{class a{constructor(){this.name="",this.options=[],this.defaultValue="",this.size="small"}ngOnInit(){this.selectOptions=this.options.map(n=>({label:n,value:n}))}}return a.\u0275fac=function(n){return new(n||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-field-select"]],inputs:{name:"name",options:"options",defaultValue:"defaultValue",size:"size"},decls:1,vars:5,consts:[["nzAllowClear","",3,"nzSize","nzOptions","ngModel","nzPlaceHolder","nzShowArrow"]],template:function(n,s){1&n&&t._UZ(0,"nz-select",0),2&n&&t.Q6J("nzSize",s.size)("nzOptions",s.selectOptions)("ngModel",s.defaultValue)("nzPlaceHolder","No "+s.name)("nzShowArrow",!1)},directives:[u.Vq,m.JJ,m.On],styles:["nz-select[_ngcontent-%COMP%]{min-width:80px}nz-option-item[_ngcontent-%COMP%]{width:-moz-fit-content!important;width:fit-content!important}"]}),a})();const O=function(a){return{opacity:a}};let A=(()=>{class a{constructor(n,s,d,o){this.global=n,this.activatedRoute=s,this.fields=d,this.requestService=o,this.entity="",this.entityPlaceholder="Title",this.showModel=!1,this.request={}}ngOnInit(){this.activatedRoute.params.subscribe(n=>{n.entity&&(this.entity=(new e.rS).transform(n.entity)),this.entityPlaceholder=this.entity+" title"}),this.entityPlaceholder=this.entity+" title"}ngAfterViewInit(){}postEntity(){this.canPostEntity()&&(console.log(this.request),this.requestService.addRequest(this.request))}canPostEntity(){return!!this.request.rawContent}getEntityList(){let n=[];return this.fields.entities.forEach(s=>n.push({label:s,value:s})),n}getTag(n){"Category"==n.type?this.request.category=n.tag:"Severity"==n.type?this.request.severity=n.tag:"Module"==n.type?this.request.module=n.tag:console.log("Unknown tag type: ",n.type)}getMention(n){console.log(n)}}return a.\u0275fac=function(n){return new(n||a)(t.Y36(f.U),t.Y36(h.gz),t.Y36(y),t.Y36(v.P))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-create-new-entity"]],inputs:{entity:"entity"},decls:25,vars:15,consts:[[1,"new-entity-container"],[1,"nec-modal"],[1,"nec-modal-header"],[1,"nec-modal-header-left","nec-modal-div"],[1,"button-feel","button-feel-accent","soft-span-text"],[1,"arrow-span"],[1,"soft-span-text"],[1,"nec-modal-header-right","nec-modal-div"],["appBackButton","",1,"material-symbols-rounded","button-icon","nec-close-btn"],[1,"nec-modal-body"],[1,"nec-editor"],["placeholder","Say Something",1,"nec-markdown-editor",3,"tagArray","mentionArray","enableMenu","jsonContent","selectedMention","jsonContentChange","content","selectedTag"],[1,"nec-entity-fields"],["name","Category",3,"options","defaultValue"],["name","Severity",3,"options","defaultValue"],["name","Module",3,"options","defaultValue"],[1,"nec-modal-footer"],[1,"nec-modal-footer-left","nec-modal-div"],[1,"nec-modal-footer-right","nec-modal-div"],[1,"button-feel","button-feel-accent","button-icon","nec-post-btn",3,"ngStyle","click"]],template:function(n,s){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t._uU(5," New "),t.qZA(),t.TgZ(6,"span",5),t._uU(7,"\u203a"),t.qZA(),t.TgZ(8,"span",6),t._uU(9),t.qZA()(),t.TgZ(10,"div",7)(11,"span",8),t._uU(12," close "),t.qZA()()(),t.TgZ(13,"div",9)(14,"div",10)(15,"markdown-editor",11),t.NdJ("selectedMention",function(o){return s.getMention(o)})("jsonContentChange",function(o){return s.request.content=o})("content",function(o){return s.request.rawContent=o.raw})("selectedTag",function(o){return s.getTag(o)}),t.qZA()(),t.TgZ(16,"div",12),t._UZ(17,"app-field-select",13)(18,"app-field-select",14)(19,"app-field-select",15),t.qZA()(),t.TgZ(20,"div",16),t._UZ(21,"div",17),t.TgZ(22,"div",18)(23,"div",19),t.NdJ("click",function(){return s.postEntity()}),t._uU(24),t.qZA()()()()()),2&n&&(t.xp6(9),t.Oqu(s.entity),t.xp6(6),t.Q6J("tagArray",s.global.tagArray)("mentionArray",s.global.mentionArray)("enableMenu",!1)("jsonContent",s.request.content),t.xp6(2),t.Q6J("options",s.fields.categories)("defaultValue",s.request.category),t.xp6(1),t.Q6J("options",s.fields.severities)("defaultValue",s.request.severity),t.xp6(1),t.Q6J("options",s.fields.modules)("defaultValue",s.request.module),t.xp6(4),t.Q6J("ngStyle",t.VKq(13,O,s.canPostEntity()?1:.5)),t.xp6(1),t.hij("Post ",s.entity,""))},directives:[C.z,M.k1,P,e.PC],styles:[".new-entity-container[_ngcontent-%COMP%]{width:100%;height:100%;padding:12px 0;background-color:transparent}.nec-modal[_ngcontent-%COMP%]{width:94vw;overflow:scroll;margin:auto;border-radius:16px;background-color:#fff;box-shadow:#0000001f 0 1px 3px,#0000003d 0 1px 2px}.nec-modal-header[_ngcontent-%COMP%], .nec-modal-footer[_ngcontent-%COMP%]{padding:12px;display:flex;min-height:45px;max-height:50px;justify-content:space-between}.nec-modal-footer[_ngcontent-%COMP%]{border-top:1px solid var(--dim-bg-color)}.nec-modal-div[_ngcontent-%COMP%]{display:flex;align-items:center}.arrow-span[_ngcontent-%COMP%]{margin:0 12px;color:gray}.nec-close-btn[_ngcontent-%COMP%]{color:gray}.nec-post-btn[_ngcontent-%COMP%]{font-size:1rem;padding:8px 12px;border-radius:16px}.nec-entity-fields[_ngcontent-%COMP%]{display:flex;padding:12px;margin-top:12px}.nec-entity-fields[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{margin-right:12px}"]}),a})()}}]);