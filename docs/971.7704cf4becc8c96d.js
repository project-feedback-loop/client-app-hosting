"use strict";(self.webpackChunkfeedback_loop_client=self.webpackChunkfeedback_loop_client||[]).push([[971],{971:(A,u,e)=>{e.r(u),e.d(u,{AuthModule:()=>y});var g=e(9808),l=e(6126),d=e(5861),h=e(2340),o=e(5e3),m=e(622),v=e(9352);let s=(()=>{class t{constructor(n,i,r){this.activatedRoute=n,this.authService=i,this.router=r,this.activatedRoute.queryParams.subscribe(a=>{this.getJWT(a),a.access_token?this.getJWT(a):a.login&&this.googleLoginCall()})}ngOnInit(){}googleLoginCall(){window.location.href=`${h.N.strapi_server}/api/connect/google`}getJWT(n){var i=this;return(0,d.Z)(function*(){yield i.authService.get(n.access_token).subscribe(r=>{i.authService.add(r),i.router.navigate(["/"])})})()}}return t.\u0275fac=function(n){return new(n||t)(o.Y36(l.gz),o.Y36(m.e),o.Y36(l.F0))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-login"]],decls:3,vars:0,consts:[[1,"login-page-container"],["Button","",1,"login-button",3,"click"]],template:function(n,i){1&n&&(o.TgZ(0,"div",0)(1,"div",1),o.NdJ("click",function(){return i.googleLoginCall()}),o._uU(2,"Login with Google"),o.qZA()())},directives:[v.r0],styles:[".login-page-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:var(--dim-bg-color)}.login-button[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;padding:0 6px;margin:auto}"]}),t})();const f=[{path:"",component:s},{path:"callback",component:s}];let p=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[l.Bz.forChild(f)],l.Bz]}),t})();var C=e(2271);let y=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[g.ez,p,C.m]]}),t})()}}]);