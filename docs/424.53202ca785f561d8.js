"use strict";(self.webpackChunkfeedback_loop_client=self.webpackChunkfeedback_loop_client||[]).push([[424],{8025:(p,u,o)=>{function s(r){return{jwt:"",accessToken:"",user:{}}}o.d(u,{l:()=>s})},4277:(p,u,o)=>{o.d(u,{C:()=>t});var s=o(655),r=o(1469),l=o(8025),n=o(5e3);let t=class extends r.cf{constructor(){super((0,l.l)({}))}};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t=(0,s.gn)([(0,r.yC)({name:"auth"})],t)},5319:(p,u,o)=>{o.d(u,{T:()=>n});var s=o(914),r=o(5e3),l=o(3557);let n=(()=>{class t extends s.Hb{constructor(a){super(a),this.store=a,console.log("User service")}}return t.\u0275fac=function(a){return new(a||t)(r.LFG(l.X))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},3557:(p,u,o)=>{o.d(u,{X:()=>n});var s=o(655),r=o(1469),l=o(5e3);let n=class extends r.cf{constructor(){super()}};n.\u0275fac=function(i){return new(i||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n=(0,s.gn)([(0,r.yC)({name:"users"})],n)},971:(p,u,o)=>{o.r(u),o.d(u,{AuthModule:()=>d});var s=o(9808),r=o(2626),l=o(5861),n=o(2340),t=o(5e3),i=o(622);let a=(()=>{class e{constructor(c,v,E){this.activatedRoute=c,this.authService=v,this.router=E,this.strapi_auth_provider=n.N.strapi_auth_provider,this.activatedRoute.queryParams.subscribe(m=>{console.log(m),this.getJWT(m),m.access_token?this.getJWT(m):m.login&&this.googleLoginCall()})}ngOnInit(){}googleLoginCall(){window.location.href=`${n.N.strapi_server}/api/connect/${n.N.strapi_auth_provider}`}getJWT(c){var v=this;return(0,l.Z)(function*(){yield v.authService.get(c.access_token,c).subscribe(E=>{v.authService.add(E),v.router.navigate(["/"])})})()}}return e.\u0275fac=function(c){return new(c||e)(t.Y36(r.gz),t.Y36(i.e),t.Y36(r.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-login"]],decls:4,vars:3,consts:[[1,"login-page-container"],[1,"login-button"]],template:function(c,v){1&c&&(t.TgZ(0,"div",0)(1,"span",1),t._uU(2),t.ALo(3,"titlecase"),t.qZA()()),2&c&&(t.xp6(2),t.hij(" Redirecting to ",t.lcZ(3,1,v.strapi_auth_provider)," "))},pipes:[s.rS],styles:[".login-page-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:var(--dim-bg-color)}.login-button[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;padding:0 6px;margin:auto}"]}),e})();const g=[{path:"",component:a},{path:"callback",component:a}];let _=(()=>{class e{}return e.\u0275fac=function(c){return new(c||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[r.Bz.forChild(g)],r.Bz]}),e})();var h=o(3926);let d=(()=>{class e{}return e.\u0275fac=function(c){return new(c||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[s.ez,_,h.m]]}),e})()},5861:(p,u,o)=>{function s(l,n,t,i,a,g,_){try{var h=l[g](_),d=h.value}catch(e){return void t(e)}h.done?n(d):Promise.resolve(d).then(i,a)}function r(l){return function(){var n=this,t=arguments;return new Promise(function(i,a){var g=l.apply(n,t);function _(d){s(g,i,a,_,h,"next",d)}function h(d){s(g,i,a,_,h,"throw",d)}_(void 0)})}}o.d(u,{Z:()=>r})}}]);