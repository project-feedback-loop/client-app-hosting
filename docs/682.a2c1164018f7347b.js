"use strict";(self.webpackChunkfeedback_loop_client=self.webpackChunkfeedback_loop_client||[]).push([[682],{8025:(C,a,n)=>{function i(r){return{jwt:"",accessToken:"",user:{}}}n.d(a,{l:()=>i})},4277:(C,a,n)=>{n.d(a,{C:()=>t});var i=n(655),r=n(1469),d=n(8025),c=n(5e3);let t=class extends r.cf{constructor(){super((0,d.l)({}))}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t=(0,i.gn)([(0,r.yC)({name:"auth"})],t)},971:(C,a,n)=>{n.r(a),n.d(a,{AuthModule:()=>A});var i=n(9808),r=n(2626),d=n(5861),c=n(2340),t=n(5e3),u=n(622),s=n(9352);let g=(()=>{class o{constructor(e,m,p){this.activatedRoute=e,this.authService=m,this.router=p,this.activatedRoute.queryParams.subscribe(y=>{this.getJWT(y),y.access_token?this.getJWT(y):y.login&&this.googleLoginCall()})}ngOnInit(){}googleLoginCall(){window.location.href=`${c.N.strapi_server}/api/connect/${c.N.strapi_auth_provider}`}getJWT(e){var m=this;return(0,d.Z)(function*(){yield m.authService.get(e.access_token).subscribe(p=>{m.authService.add(p),m.router.navigate(["/"])})})()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(r.gz),t.Y36(u.e),t.Y36(r.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-login"]],decls:3,vars:0,consts:[[1,"login-page-container"],["Button","",1,"login-button",3,"click"]],template:function(e,m){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.NdJ("click",function(){return m.googleLoginCall()}),t._uU(2,"Login with Google"),t.qZA()())},directives:[s.r0],styles:[".login-page-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:var(--dim-bg-color)}.login-button[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;padding:0 6px;margin:auto}"]}),o})();const h=[{path:"",component:g},{path:"callback",component:g}];let f=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[r.Bz.forChild(h)],r.Bz]}),o})();var l=n(3926);let A=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[i.ez,f,l.m]]}),o})()},5861:(C,a,n)=>{function i(d,c,t,u,s,g,h){try{var f=d[g](h),l=f.value}catch(A){return void t(A)}f.done?c(l):Promise.resolve(l).then(u,s)}function r(d){return function(){var c=this,t=arguments;return new Promise(function(u,s){var g=d.apply(c,t);function h(l){i(g,u,s,h,f,"next",l)}function f(l){i(g,u,s,h,f,"throw",l)}h(void 0)})}}n.d(a,{Z:()=>r})}}]);