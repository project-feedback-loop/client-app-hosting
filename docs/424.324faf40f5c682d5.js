"use strict";(self.webpackChunkfeedback_loop_client=self.webpackChunkfeedback_loop_client||[]).push([[424],{8025:(m,c,o)=>{function s(r){return{jwt:"",accessToken:"",user:{}}}o.d(c,{l:()=>s})},4277:(m,c,o)=>{o.d(c,{C:()=>t});var s=o(655),r=o(1469),l=o(8025),n=o(5e3);let t=class extends r.cf{constructor(){super((0,l.l)({}))}};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t=(0,s.gn)([(0,r.yC)({name:"auth"})],t)},5319:(m,c,o)=>{o.d(c,{T:()=>n});var s=o(914),r=o(5e3),l=o(3557);let n=(()=>{class t extends s.Hb{constructor(a){super(a),this.store=a,console.log("User service")}}return t.\u0275fac=function(a){return new(a||t)(r.LFG(l.X))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},3557:(m,c,o)=>{o.d(c,{X:()=>n});var s=o(655),r=o(1469),l=o(5e3);let n=class extends r.cf{constructor(){super()}};n.\u0275fac=function(i){return new(i||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n=(0,s.gn)([(0,r.yC)({name:"users"})],n)},971:(m,c,o)=>{o.r(c),o.d(c,{AuthModule:()=>M});var s=o(9808),r=o(2626),l=o(5861),n=o(2340),t=o(5e3),i=o(622),a=o(9352);let g=(()=>{class e{constructor(u,h,p){this.activatedRoute=u,this.authService=h,this.router=p,this.activatedRoute.queryParams.subscribe(E=>{console.log(E),this.getJWT(E),E.access_token?this.getJWT(E):E.login&&this.googleLoginCall()})}ngOnInit(){}googleLoginCall(){window.location.href=`${n.N.strapi_server}/api/connect/${n.N.strapi_auth_provider}`}getJWT(u){var h=this;return(0,l.Z)(function*(){yield h.authService.get(u.access_token,u).subscribe(p=>{h.authService.add(p),h.router.navigate(["/"])})})()}}return e.\u0275fac=function(u){return new(u||e)(t.Y36(r.gz),t.Y36(i.e),t.Y36(r.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-login"]],decls:3,vars:0,consts:[[1,"login-page-container"],["Button","",1,"login-button",3,"click"]],template:function(u,h){1&u&&(t.TgZ(0,"div",0)(1,"div",1),t.NdJ("click",function(){return h.googleLoginCall()}),t._uU(2,"Login with Google"),t.qZA()())},directives:[a.r0],styles:[".login-page-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:var(--dim-bg-color)}.login-button[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;padding:0 6px;margin:auto}"]}),e})();const _=[{path:"",component:g},{path:"callback",component:g}];let v=(()=>{class e{}return e.\u0275fac=function(u){return new(u||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[r.Bz.forChild(_)],r.Bz]}),e})();var d=o(3926);let M=(()=>{class e{}return e.\u0275fac=function(u){return new(u||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[s.ez,v,d.m]]}),e})()},5861:(m,c,o)=>{function s(l,n,t,i,a,g,_){try{var v=l[g](_),d=v.value}catch(M){return void t(M)}v.done?n(d):Promise.resolve(d).then(i,a)}function r(l){return function(){var n=this,t=arguments;return new Promise(function(i,a){var g=l.apply(n,t);function _(d){s(g,i,a,_,v,"next",d)}function v(d){s(g,i,a,_,v,"throw",d)}_(void 0)})}}o.d(c,{Z:()=>r})}}]);